<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Azure Speech Translation</title>

  <link rel="stylesheet" href="./style.css" />
  <link rel="icon" href="../../icon.png" type="image/png">
	<link rel="apple-touch-icon" href="../../icon.png">
	<link rel="shortcut icon" href="../../icon.ico">
</head>

<body>
  <div class="wrap">
    <div class="title">
      <div class="glow"></div>
      <h1>即時字幕（中文）</h1>
      <span id="status" class="pill">狀態</span>
    </div>

    <div class="grid">
      <!-- 左：控制卡 -->
      <section class="card">
        <div class="row">
          <div class="mic" aria-hidden="true"></div>
          <div>
            <div class="small">使用前先解鎖；開始後允許麥克風</div>
            <div class="small">token 會過期，卡住時請停止→再解鎖→開始</div>
          </div>
        </div>

        <div class="row">
          <label>訪客密碼</label>
          <input id="pass" type="password" placeholder="輸入密碼" value="" />
          <button id="btnAuth" class="btn">解  鎖</button>
          <span id="gate" class="pill">鎖定</span>
        </div>
        
        <div class="row">
          <label>字幕顯示</label>
          <select id="viewMode">
            <option value="orig" selected>僅原文</option>
            <option value="en">僅英文</option>
            <option value="ja">僅日文</option>
            <option value="all">全部</option>
          </select>
        </div>

        <div class="row">
          <button id="btnStart" class="btn" disabled>開始</button>
          <button id="btnStop" class="btn-ghost" disabled>停止</button>
        </div>
      </section>

      <!-- 右：字幕卡 -->
      <section class="card">
        <div id="partial" class="">等待語音中<span class="blink">…</span></div>
        <div id="final"></div>
      </section>
    </div>
  </div>
  <!-- Azure Speech SDK（只載這一份） -->
  <script src="https://aka.ms/csspeech/jsbrowserpackageraw"></script>
  <!-- 你的 App 腳本 -->
  <script defer src="./azure-speach.js"></script>
</body>
</html>
